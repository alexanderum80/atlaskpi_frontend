kpi-spinner(*ngIf="isLoading")

.enter-data-form-container.h-100(*ngIf="!isLoading", layout="row", layout-padding)
    .flex(layout="column")
        .table.h-100
            .table-header.bgm-blue(layout="row")
                i.zmdi.zmdi-filter-list.filter-icon([class.show-filter-row]="showfilterRow", (click)="toogleFilterRow()")
                .flex.m-l-20(*ngFor="let header of headerData, index as i", layout="row")
                    .flex.column-text {{ header }}
                    div(flex-none, layout-align="end end")
                        bw-actions([actionItems]="sortActionItems", color="white", class="f-20", (actionClicked)="sortActionClicked($event, i)")
            .table-body(layout="column")
                //- filter row
                .data-row-filter([class.hidden]="!showfilterRow")
                    .flex(layout="row", *ngFor="let controls of vm.fg.get('dataFilter').controls, let c = index")
                        .columns.flex.m-l-20(*ngFor="let fieldName of controls.controls, let f = index")
                            div(*ngIf="getInputType(c, f) === 'date'")
                                bw-date-picker(
                                        [fg]="controls",
                                        [field]="f",
                                        [config]="datePickerConfig")
                            div(*ngIf="getInputType(c, f) === 'checkbox'")
                                bw-checkbox(
                                        [fg]="controls",
                                        [field]="f")
                            div(*ngIf="getInputType(c, f) === 'customList'")
                                bw-select-picker.w-100(
                                        [fg]="controls",
                                        [field]="f",
                                        [items]="getCustomList(f)",
                                        [liveSearch]="true",
                                        liveSearchPlaceholder="...search...",
                                        noneSelectedText="NOTHING SELECTED")
                            div(*ngIf="getInputType(c, f) !== 'checkbox' && getInputType(c, f) !== 'date' && getInputType(c, f) !== 'customList'")
                                bw-text-box(
                                        [fg]="controls",
                                        [field]="f")

                //- data rows
                .data-row.flex(layout="row", *ngFor="let controls of vm.fg.get('data').controls | myfilter: vm.fg.get('dataFilter').controls, let c = index")
                    .columns.flex.m-l-20(*ngFor="let fieldName of controls.controls, let f = index")
                        div(*ngIf="getInputType(c, f) === 'date'")
                            bw-date-picker(
                                    [fg]="controls",
                                    [field]="f",
                                    [config]="datePickerConfig")
                        div(*ngIf="getInputType(c, f) === 'checkbox'")
                            bw-checkbox(
                                    [fg]="controls",
                                    [field]="f")
                        div(*ngIf="getInputType(c, f) === 'customList'")
                            bw-select-picker.w-100(
                                    [fg]="controls",
                                    [field]="f",
                                    [items]="getCustomList(f)",
                                    [liveSearch]="true",
                                    liveSearchPlaceholder="...search...",
                                    noneSelectedText="NOTHING SELECTED")
                        div(*ngIf="getInputType(c, f) !== 'checkbox' && getInputType(c, f) !== 'date' && getInputType(c, f) !== 'customList'")
                            bw-text-box(
                                    [fg]="controls",
                                    [field]="f")

                        .flex.err-message(*ngIf="fieldName && fieldName.errors && fieldName.errors.required") This field is required.
                        .flex.err-message(*ngIf="fieldName && fieldName.errors && fieldName.errors.invalidDataType") Incorrect data type.

        .flex(layout="row", layout-align="end end") 
            bw-button(icon="floppy", title="SAVE", color="blue", (clicked)="save()")
            bw-button(icon="close", title="CANCEL", [simple]="true", color="black", (clicked)="cancel()")
